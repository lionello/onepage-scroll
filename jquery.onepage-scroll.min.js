!function(e){var a={sectionContainer:"section",stateClassName:"viewing-page",easing:"ease",animationTime:1e3,pagination:!0,updateURL:!1,keyboard:!0,beforeMove:null,afterMove:null,loop:!0,responsiveFallback:!1,direction:"vertical"};e.fn.swipeEvents=function(){return this.each(function(){function a(e){var a=e.originalEvent.touches;a&&a.length&&(t=a[0].pageX,i=a[0].pageY,o.off("touchmove").on("touchmove",n))}function n(e){e.preventDefault();var a=e.originalEvent.touches;if(a&&a.length){var s=t-a[0].pageX,d=i-a[0].pageY;s>=50&&o.trigger("swipeLeft"),-50>=s&&o.trigger("swipeRight"),d>=50&&o.trigger("swipeUp"),-50>=d&&o.trigger("swipeDown"),(Math.abs(s)>=50||Math.abs(d)>=50)&&o.off("touchmove",n)}}var t,i,o=e(this);o.bind("touchstart",a)})},e.fn.onepage_scroll=function(n){function t(){var a=!1,n=typeof o.responsiveFallback;"number"===n&&(a=e(window).width()<o.responsiveFallback),"boolean"===n&&(a=o.responsiveFallback),"function"===n&&(valFunction=o.responsiveFallback(),a=valFunction,typeOFv=typeof a,"number"===typeOFv&&(a=e(window).width()<valFunction)),a?(e("body").addClass("disabled-onepage-scroll"),e(document).unbind("mousewheel DOMMouseScroll MozMousePixelScroll"),s.swipeEvents().unbind("swipeDown swipeUp")):(e("body").hasClass("disabled-onepage-scroll")&&(e("body").removeClass("disabled-onepage-scroll"),e("html, body, .wrapper").animate({scrollTop:0},"fast")),s.swipeEvents().bind("swipeDown",function(a){e("body").hasClass("disabled-onepage-scroll")||a.preventDefault(),s.moveUp()}).bind("swipeUp",function(a){e("body").hasClass("disabled-onepage-scroll")||a.preventDefault(),s.moveDown()}),e(document).bind("mousewheel DOMMouseScroll MozMousePixelScroll",function(e){e.preventDefault();var a=e.originalEvent.wheelDelta||-e.originalEvent.detail;i(e,a)}))}function i(e,a){deltaOfInterest=a;var n=(new Date).getTime();return n-p<v+o.animationTime?void e.preventDefault():(deltaOfInterest<0?s.moveDown():s.moveUp(),void(p=n))}var o=e.extend({},a,n),s=e(this),d=e(o.sectionContainer),r=d.length,l=0,c=0,p=0,v=500,f="",g=new RegExp("\\b\\s?"+o.stateClassName+"-\\d.*?\\b","g");if(e.fn.transformPage=function(a,n,t){if("function"==typeof a.beforeMove&&a.beforeMove(t),e("html").hasClass("ie8"))if("horizontal"==a.direction){var i=s.width()/100*n;e(this).animate({left:i+"px"},a.animationTime)}else{var i=s.height()/100*n;e(this).animate({top:i+"px"},a.animationTime)}else e(this).css({"-webkit-transform":"horizontal"==a.direction?"translateX("+n+"%) translateZ(0)":"translateY("+n+"%) translateZ(0)","-webkit-transition":"all "+a.animationTime+"ms "+a.easing,"-moz-transform":"horizontal"==a.direction?"translateX("+n+"%) translateZ(0)":"translateY("+n+"%) translateZ(0)","-moz-transition":"all "+a.animationTime+"ms "+a.easing,"-ms-transform":"horizontal"==a.direction?"translateX("+n+"%) translateZ(0)":"translateY("+n+"%) translateZ(0)","-ms-transition":"all "+a.animationTime+"ms "+a.easing,transform:"horizontal"==a.direction?"translateX("+n+"%) translateZ(0)":"translateY("+n+"%) translateZ(0)",transition:"all "+a.animationTime+"ms "+a.easing});e(this).one("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",function(){"function"==typeof a.afterMove&&a.afterMove(t)})},e.fn.moveDown=function(){var a=e(this);if(index=e(o.sectionContainer+".active").data("index"),current=e(o.sectionContainer+"[data-index='"+index+"']"),next=e(o.sectionContainer+"[data-index='"+(index+1)+"']"),next.length<1){if(o.loop!==!0)return;pos=0,next=e(o.sectionContainer+"[data-index='1']")}else pos=100*index*-1;if("function"==typeof o.beforeMove&&o.beforeMove(next.data("index")),current.removeClass("active"),next.addClass("active"),o.pagination===!0&&(e(".onepage-pagination li a[data-index='"+index+"']").removeClass("active"),e(".onepage-pagination li a[data-index='"+next.data("index")+"']").addClass("active")),e("body")[0].className=e("body")[0].className.replace(g,""),e("body").addClass(o.stateClassName+"-"+next.data("index")),history.replaceState&&o.updateURL===!0){var n=window.location.href.substr(0,window.location.href.indexOf("#"))+"#"+(index+1);history.pushState({},document.title,n)}a.transformPage(o,pos,next.data("index"))},e.fn.moveUp=function(){var a=e(this);if(index=e(o.sectionContainer+".active").data("index"),current=e(o.sectionContainer+"[data-index='"+index+"']"),next=e(o.sectionContainer+"[data-index='"+(index-1)+"']"),next.length<1){if(o.loop!==!0)return;pos=100*(r-1)*-1,next=e(o.sectionContainer+"[data-index='"+r+"']")}else pos=100*(next.data("index")-1)*-1;if("function"==typeof o.beforeMove&&o.beforeMove(next.data("index")),current.removeClass("active"),next.addClass("active"),o.pagination===!0&&(e(".onepage-pagination li a[data-index='"+index+"']").removeClass("active"),e(".onepage-pagination li a[data-index='"+next.data("index")+"']").addClass("active")),e("body")[0].className=e("body")[0].className.replace(g,""),e("body").addClass(o.stateClassName+"-"+next.data("index")),history.replaceState&&o.updateURL===!0){var n=window.location.href.substr(0,window.location.href.indexOf("#"))+"#"+(index-1);history.pushState({},document.title,n)}a.transformPage(o,pos,next.data("index"))},e.fn.moveTo=function(a){if(current=e(o.sectionContainer+".active"),next=e(o.sectionContainer+"[data-index='"+a+"']"),next.length>0){if("function"==typeof o.beforeMove&&o.beforeMove(next.data("index")),current.removeClass("active"),next.addClass("active"),e(".onepage-pagination li a.active").removeClass("active"),e(".onepage-pagination li a[data-index='"+a+"']").addClass("active"),e("body")[0].className=e("body")[0].className.replace(g,""),e("body").addClass(o.stateClassName+"-"+next.data("index")),pos=100*(a-1)*-1,history.replaceState&&o.updateURL===!0){var n=window.location.href.substr(0,window.location.href.indexOf("#"))+"#"+a;history.pushState({},document.title,n)}s.transformPage(o,pos,a)}},s.addClass("onepage-wrapper").css("position","relative"),e.each(d,function(a){e(this).css({position:"absolute",top:l+"%"}).addClass("section").attr("data-index",a+1),e(this).css({position:"absolute",left:"horizontal"===o.direction?c+"%":0,top:"vertical"===o.direction||"horizontal"!==o.direction?l+"%":0}),"horizontal"===o.direction?c+=100:l+=100,o.pagination===!0&&(f+="<li><a data-index='"+(a+1)+"' href='#"+(a+1)+"'></a></li>")}),s.swipeEvents().bind("swipeDown",function(a){e("body").hasClass("disabled-onepage-scroll")||a.preventDefault(),s.moveUp()}).bind("swipeUp",function(a){e("body").hasClass("disabled-onepage-scroll")||a.preventDefault(),s.moveDown()}),o.pagination===!0&&(e("ul.onepage-pagination").length<1&&e("<ul class='onepage-pagination'></ul>").prependTo("body"),"horizontal"===o.direction?(posLeft=s.find(".onepage-pagination").width()/2*-1,s.find(".onepage-pagination").css("margin-left",posLeft)):(posTop=s.find(".onepage-pagination").height()/2*-1,s.find(".onepage-pagination").css("margin-top",posTop)),e("ul.onepage-pagination").html(f)),""!=window.location.hash&&"#1"!=window.location.hash)if(init_index=window.location.hash.replace("#",""),parseInt(init_index)<=r&&parseInt(init_index)>0){if(e(o.sectionContainer+"[data-index='"+init_index+"']").addClass("active"),e("body").addClass(o.stateClassName+"-"+init_index),o.pagination===!0&&e(".onepage-pagination li a[data-index='"+init_index+"']").addClass("active"),next=e(o.sectionContainer+"[data-index='"+init_index+"']"),next&&(next.addClass("active"),o.pagination===!0&&e(".onepage-pagination li a[data-index='"+init_index+"']").addClass("active"),e("body")[0].className=e("body")[0].className.replace(g,""),e("body").addClass(o.stateClassName+"-"+next.data("index")),history.replaceState&&o.updateURL===!0)){var u=window.location.href.substr(0,window.location.href.indexOf("#"))+"#"+init_index;history.pushState({},document.title,u)}pos=100*(init_index-1)*-1,s.transformPage(o,pos,init_index)}else e(o.sectionContainer+"[data-index='1']").addClass("active"),e("body").addClass(o.stateClassName+"-1"),o.pagination===!0&&e(".onepage-pagination li a[data-index='1']").addClass("active");else e(o.sectionContainer+"[data-index='1']").addClass("active"),e("body").addClass(o.stateClassName+"-1"),o.pagination===!0&&e(".onepage-pagination li a[data-index='1']").addClass("active");return o.pagination===!0&&e(".onepage-pagination li a").click(function(){var a=e(this).data("index");s.moveTo(a)}),e(document).bind("mousewheel DOMMouseScroll MozMousePixelScroll",function(a){var n=a.originalEvent.wheelDelta||-a.originalEvent.detail;e("body").hasClass("disabled-onepage-scroll")||(a.preventDefault(),i(a,n))}),o.responsiveFallback!==!1&&(e(window).resize(function(){t()}),t()),o.keyboard===!0&&e(document).keydown(function(a){var n=a.target.tagName.toLowerCase();if(!e("body").hasClass("disabled-onepage-scroll"))switch(a.which){case 38:"input"!==n&&"textarea"!==n&&s.moveUp();break;case 40:"input"!==n&&"textarea"!==n&&s.moveDown();break;case 32:"input"!=n&&"textarea"!=n&&s.moveDown();break;case 33:"input"!==n&&"textarea"!==n&&s.moveUp();break;case 34:"input"!==n&&"textarea"!==n&&s.moveDown();break;case 36:s.moveTo(1);break;case 35:s.moveTo(r);break;default:return}}),e(window).on("hashchange",function(a){if(a&&a.originalEvent&&a.originalEvent.newURL){var n=a.originalEvent.newURL,t=n.indexOf("#"),i=1;t>=0&&(i=n.substring(t+1)),e(this).moveTo(i)}}),!1}}(window.jQuery);
